<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
  ul,li {margin: 0;padding: 0;}
    #div1 { width: 400px;height: 200px; background: #ccc;}
    #div1 ul { position: relative; width: 100%;height: 100%;}
    #div1 ul li { position: absolute;  width: 100%;height: 100%; list-style: none; opacity: 0;}
    #div1 ul li:nth-child(1) { opacity: 1; background: red;}
    #div1 ul li:nth-child(2) { background: green;}
    #div1 ul li:nth-child(3) { background: blue;}
    #div1 ul li:nth-child(4) { background: yellow;}

    #div2 { width: 200px;height: 200px;background: red; opacity: 0.0;}
  </style>
  <script>
  window.onload = function(){
    var oDiv = document.getElementById("div1");
    var oDiv2 = document.getElementById("div2");
    var aLi = oDiv.getElementsByTagName("li");
    oDiv2.onmouseover = function(){
      startOpacity(this,0,100);
    }
    oDiv2.onmouseout = function(){
      startOpacity(this,100,0);
    }
  }
  var timer = null;
  function startOpacity(iElement, opacity, iTarget){
    var oDiv2 = document.getElementById("div2");
    clearInterval(timer);
    var speed = 0;

    timer = setInterval(function(){
      if(opacity == iTarget){
        clearInterval(timer);
      }else{
        if(opacity < iTarget){
          speed = (iTarget - opacity) / 3;
        }else{
          speed = (iTarget - opacity) / 3;
        }
        opacity += speed;
        iElement.style.opacity = opacity/100;
      }
    }, 30);
  }
  </script>
</head>
<body>
  <div id="div1">
    <ul>
      <li>1</li>
      <li>2</li>
      <li>3</li>
      <li>4</li>
    </ul>
  </div>
  <div id="div2">

  </div>
</body>
</html>
